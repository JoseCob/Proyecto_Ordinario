extends header 

block content
    .container-CRTCollection
        .title-CRTCollection #{title}
        .header-CRTCollection
            i.icon.material-symbols-outlined chevron_right
            p Identificador de la colección
         
        if errorMessage
            p.error-message-CRTCollection #{errorMessage}
        else 
            p.error-message-CRTCollection *Solo se puede subir imagenes con el formato png
        form(class='form-CRTCollection' action='/create-crtCollection' method='POST' enctype='multipart/form-data')
            .container-form-coverCRTCollection
                p.text-CRTCollection Imagen representativa de la colección
                img.container-img-CRTCollection(src='/icono-camara-gris.png', alt='' id='img-CRTCollection')
                input(accept='image/png' type='file' name='imageCRTCollection' id='imageCRTCollection' class='input-img-CRTCollection')
                label(for='imageCRTCollection' class='btn-CRTCollection') Seleccionar imagen
                .row-form-CRTCollection
                    label(for='categoryCollection' class='label-CRTCollection') Categoría de la colección:
                    input(type='text' name='categoryCollection' id='categoryCollection' class='form-input-CRTCollection' placeholder='Películas, Libros, etc...' autofocus, required)
                button(type='submit' class='btn-form-CRTCollection') Añadir nueva colección

    script.
        const defaultFile = '/icono-camara-gris.png'; //Constante que atrae la imagen por defecto
        const fileImg = document.getElementById('imageCRTCollection');//Constante para el input que carga o sube la imagen
        const img = document.getElementById('img-CRTCollection'); //constante donde se va a remplazara la imagen por defecto y visualizar la nueva imagen cargada

        //Evento que obtiene los parametros de la imagen para aplicar la visualización y cambio de imagen
        fileImg.addEventListener('change', e =>{
            if( e.target.files[0]){
                const reader = new FileReader();
                reader.onload = function( e ){
                    img.src = e.target.result;
                }
                reader.readAsDataURL(e.target.files[0])
            }else{
                img.src = defaultFile;//Si no se lecciona una imagen al abrir el input type='file', carga la imagen por defecto 
            }
        });